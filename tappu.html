<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>かみ好きレベル!?</title>
<style>
body {
  background: #0f1724;
  color: #fff;
  font-family: "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  flex-direction: column;
  text-align: center;
}
h1 { font-size: 24px; margin-bottom: 16px; }
#question { font-size: 22px; margin-bottom: 24px; }
.option {
  background: #1e293b;
  border: 2px solid #334155;
  color: #fff;
  border-radius: 10px;
  padding: 12px 20px;
  margin: 8px;
  width: 200px;
  cursor: pointer;
  transition: background 0.2s, transform 0.1s;
}
.option:hover { background: #334155; transform: scale(1.05); }
.correct { background: #16a34a !important; }
.wrong { background: #dc2626 !important; }
#result { margin-top: 20px; font-size: 20px; min-height: 1.4em; white-space: pre-line; }
#nextBtn {
  margin-top: 30px;
  padding: 10px 20px;
  font-size: 16px;
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  display: none;
}
#nextBtn:hover { background: #1d4ed8; }
</style>
</head>
<body>
<h1>かみ好きレベル!?（タップで選択クイズ）</h1>
<div id="question">問題を読み込み中...</div>
<div id="options"></div>
<div id="result"></div>
<button id="nextBtn">次へ</button>

<script>
// 問題タイトルと正解
const level_title = ["最初に出会った時の気持ち", "告白した時の気持ち", "付き合った時の気持ち", "障害を聞いた時の気持ち", "ビデオ通話した時の気持ち", "襲ってと言われた時の気持ち", "かみは愛が重い？", "かみは出会い厨", "かみの本名は??(カンニング禁止)", "かみのあなたへの気持ちは？"];
const level = ["可愛い", "好き", "幸せ", "そうなんだ", "美形だな", "聞き間違い", "重くていいなら", "いいえ", "神野紫莉", "依存"];

// レベルごとの偽の選択肢
const level_1 = ["普通", "微妙", "好き", "どっちでもない"];
const level_2 = ["付き合いたい", "まあ付き合おう", "冗談", "遊び"];
const level_3 = ["うれしい", "昇天", "混乱", "うおぉぉぉぉぉ"];
const level_4 = ["うわ、、", "は？？", "で？？", "別れよう"];
const level_5 = ["可愛い", "襲いたい", "きもｗｗ", "別れよう"];
const level_6 = ["???????", "いいよ", "きもｗｗ", "ぜひ！！"];
const level_7 = ["重くない", "一途", "メンヘラ", "ヤンデレ"];
const level_8 = ["はい", "元出会い厨", "きもｗｗ", "は？？"];
const level_9 = ["神野紫利", "神野紫莉", "神明紫莉", "尾﨑紫莉"];
const level_10 = ["大好き", "愛してる", "言葉なんていらん", "無限大"];




const fakesPerLevel = [level_1, level_2, level_3, level_4,level_5, level_6, level_7, level_8,level_9, level_10];

// 定数：1問あたりの最大点数
const MAX_POINT_PER_QUESTION = 10;

let current = 0;
let score = 0;

// 配列をシャッフル
function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

// スコアに応じた結果文字
function getScoreText(score) {
  if(score === 0) return "え？";
  if(score >= 1 && score <= 30) return "はい？";
  if(score >= 31 && score <= 50) return "は？？";
  if(score >= 51 && score <= 80) return "なんで？、、";
  if(score >= 81 && score <= 90) return "まあまあ、、";
  if(score >= 91 && score <= 99) return "惜しいね、、";
  if(score === 100) return "大好き！！！";
  return "";
}

// 問題を生成
function makeQuestion() {
  const question = `${level_title[current]}は？`;
  document.getElementById("question").textContent = question;

  const correct = level[current];
  const optionsArea = document.getElementById("options");
  optionsArea.innerHTML = "";

  // current に応じた偽の選択肢を3つシャッフルして使用
  const fakes = shuffle([...fakesPerLevel[current]]).slice(0, 3);
  const allOptions = shuffle([correct, ...fakes]);

  allOptions.forEach(opt => {
    const btn = document.createElement("div");
    btn.textContent = opt;
    btn.className = "option";
    btn.onclick = () => checkAnswer(btn, opt === correct);
    optionsArea.appendChild(btn);
  });

  document.getElementById("result").textContent = "";
  document.getElementById("nextBtn").style.display = "none";
}

// 回答チェック
function checkAnswer(btn, isCorrect) {
  const result = document.getElementById("result");
  const buttons = document.querySelectorAll(".option");
  buttons.forEach(b => b.style.pointerEvents = "none");

  if (isCorrect) {
    btn.classList.add("correct");
    result.textContent = "正解！";
    score += MAX_POINT_PER_QUESTION;
  } else {
    btn.classList.add("wrong");
    result.textContent = "不正解...";
  }

  document.getElementById("nextBtn").style.display = "inline-block";
}

// 次の問題へ
document.getElementById("nextBtn").onclick = () => {
  current++;
  if (current < level.length) {
    makeQuestion();
  } else {
    // 全問終了
    document.getElementById("question").textContent = "全問クリア！🎉";
    document.getElementById("options").innerHTML = "";
    const finalScore = Math.min(score, 100); // 100点を超えないように調整
    document.getElementById("result").textContent = 
      `あなたの点数は ${finalScore} / 100 点 です！\n` +
      getScoreText(finalScore);
    document.getElementById("nextBtn").style.display = "none";
  }
};

// 初回表示
makeQuestion();
</script>
</body>

</html>
