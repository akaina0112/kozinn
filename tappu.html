<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ã‹ã¿å¥½ããƒ¬ãƒ™ãƒ«!?</title>
<style>
body {
  background: #0f1724;
  color: #fff;
  font-family: "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  flex-direction: column;
  text-align: center;
}
h1 { font-size: 24px; margin-bottom: 16px; }
#question { font-size: 22px; margin-bottom: 24px; }
.option {
  background: #1e293b;
  border: 2px solid #334155;
  color: #fff;
  border-radius: 10px;
  padding: 12px 20px;
  margin: 8px;
  width: 200px;
  cursor: pointer;
  transition: background 0.2s, transform 0.1s;
}
.option:hover { background: #334155; transform: scale(1.05); }
.correct { background: #16a34a !important; }
.wrong { background: #dc2626 !important; }
#result { margin-top: 20px; font-size: 20px; min-height: 1.4em; white-space: pre-line; }
#nextBtn {
  margin-top: 30px;
  padding: 10px 20px;
  font-size: 16px;
  background: #2563eb;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  display: none;
}
#nextBtn:hover { background: #1d4ed8; }
</style>
</head>
<body>
<h1>ã‹ã¿å¥½ããƒ¬ãƒ™ãƒ«!?ï¼ˆã‚¿ãƒƒãƒ—ã§é¸æŠã‚¯ã‚¤ã‚ºï¼‰</h1>
<div id="question">å•é¡Œã‚’èª­ã¿è¾¼ã¿ä¸­...</div>
<div id="options"></div>
<div id="result"></div>
<button id="nextBtn">æ¬¡ã¸</button>

<script>
// å•é¡Œã‚¿ã‚¤ãƒˆãƒ«ã¨æ­£è§£
const level_title = ["æœ€åˆã«å‡ºä¼šã£ãŸæ™‚ã®æ°—æŒã¡", "å‘Šç™½ã—ãŸæ™‚ã®æ°—æŒã¡", "ä»˜ãåˆã£ãŸæ™‚ã®æ°—æŒã¡", "éšœå®³ã‚’èã„ãŸæ™‚ã®æ°—æŒã¡", "ãƒ“ãƒ‡ã‚ªé€šè©±ã—ãŸæ™‚ã®æ°—æŒã¡", "è¥²ã£ã¦ã¨è¨€ã‚ã‚ŒãŸæ™‚ã®æ°—æŒã¡", "ã‹ã¿ã¯æ„›ãŒé‡ã„ï¼Ÿ", "ã‹ã¿ã¯å‡ºä¼šã„å¨", "ã‹ã¿ã®æœ¬åã¯??(ã‚«ãƒ³ãƒ‹ãƒ³ã‚°ç¦æ­¢)", "ã‹ã¿ã®ã‚ãªãŸã¸ã®æ°—æŒã¡ã¯ï¼Ÿ"];
const level = ["å¯æ„›ã„", "å¥½ã", "å¹¸ã›", "ãã†ãªã‚“ã ", "ç¾å½¢ã ãª", "èãé–“é•ã„", "é‡ãã¦ã„ã„ãªã‚‰", "ã„ã„ãˆ", "ç¥é‡ç´«è‰", "ä¾å­˜"];

// ãƒ¬ãƒ™ãƒ«ã”ã¨ã®å½ã®é¸æŠè‚¢
const level_1 = ["æ™®é€š", "å¾®å¦™", "å¥½ã", "ã©ã£ã¡ã§ã‚‚ãªã„"];
const level_2 = ["ä»˜ãåˆã„ãŸã„", "ã¾ã‚ä»˜ãåˆãŠã†", "å†—è«‡", "éŠã³"];
const level_3 = ["ã†ã‚Œã—ã„", "æ˜‡å¤©", "æ··ä¹±", "ã†ãŠã‰ã‰ã‰ã‰ã‰"];
const level_4 = ["ã†ã‚ã€ã€", "ã¯ï¼Ÿï¼Ÿ", "ã§ï¼Ÿï¼Ÿ", "åˆ¥ã‚Œã‚ˆã†"];
const level_5 = ["å¯æ„›ã„", "è¥²ã„ãŸã„", "ãã‚‚ï½—ï½—", "åˆ¥ã‚Œã‚ˆã†"];
const level_6 = ["???????", "ã„ã„ã‚ˆ", "ãã‚‚ï½—ï½—", "ãœã²ï¼ï¼"];
const level_7 = ["é‡ããªã„", "ä¸€é€”", "ãƒ¡ãƒ³ãƒ˜ãƒ©", "ãƒ¤ãƒ³ãƒ‡ãƒ¬"];
const level_8 = ["ã¯ã„", "å…ƒå‡ºä¼šã„å¨", "ãã‚‚ï½—ï½—", "ã¯ï¼Ÿï¼Ÿ"];
const level_9 = ["ç¥é‡ç´«åˆ©", "ï¨™é‡ç´«è‰", "ç¥æ˜ç´«è‰", "å°¾ï¨‘ç´«è‰"];
const level_10 = ["å¤§å¥½ã", "æ„›ã—ã¦ã‚‹", "è¨€è‘‰ãªã‚“ã¦ã„ã‚‰ã‚“", "ç„¡é™å¤§"];




const fakesPerLevel = [level_1, level_2, level_3, level_4,level_5, level_6, level_7, level_8,level_9, level_10];

// å®šæ•°ï¼š1å•ã‚ãŸã‚Šã®æœ€å¤§ç‚¹æ•°
const MAX_POINT_PER_QUESTION = 10;

let current = 0;
let score = 0;

// é…åˆ—ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«
function shuffle(array) {
  return array.sort(() => Math.random() - 0.5);
}

// ã‚¹ã‚³ã‚¢ã«å¿œã˜ãŸçµæœæ–‡å­—
function getScoreText(score) {
  if(score === 0) return "ãˆï¼Ÿ";
  if(score >= 1 && score <= 30) return "ã¯ã„ï¼Ÿ";
  if(score >= 31 && score <= 50) return "ã¯ï¼Ÿï¼Ÿ";
  if(score >= 51 && score <= 80) return "ãªã‚“ã§ï¼Ÿã€ã€";
  if(score >= 81 && score <= 90) return "ã¾ã‚ã¾ã‚ã€ã€";
  if(score >= 91 && score <= 99) return "æƒœã—ã„ã­ã€ã€";
  if(score === 100) return "å¤§å¥½ãï¼ï¼ï¼";
  return "";
}

// å•é¡Œã‚’ç”Ÿæˆ
function makeQuestion() {
  const question = `${level_title[current]}ã¯ï¼Ÿ`;
  document.getElementById("question").textContent = question;

  const correct = level[current];
  const optionsArea = document.getElementById("options");
  optionsArea.innerHTML = "";

  // current ã«å¿œã˜ãŸå½ã®é¸æŠè‚¢ã‚’3ã¤ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¦ä½¿ç”¨
  const fakes = shuffle([...fakesPerLevel[current]]).slice(0, 3);
  const allOptions = shuffle([correct, ...fakes]);

  allOptions.forEach(opt => {
    const btn = document.createElement("div");
    btn.textContent = opt;
    btn.className = "option";
    btn.onclick = () => checkAnswer(btn, opt === correct);
    optionsArea.appendChild(btn);
  });

  document.getElementById("result").textContent = "";
  document.getElementById("nextBtn").style.display = "none";
}

// å›ç­”ãƒã‚§ãƒƒã‚¯
function checkAnswer(btn, isCorrect) {
  const result = document.getElementById("result");
  const buttons = document.querySelectorAll(".option");
  buttons.forEach(b => b.style.pointerEvents = "none");

  if (isCorrect) {
    btn.classList.add("correct");
    result.textContent = "æ­£è§£ï¼";
    score += MAX_POINT_PER_QUESTION;
  } else {
    btn.classList.add("wrong");
    result.textContent = "ä¸æ­£è§£...";
  }

  document.getElementById("nextBtn").style.display = "inline-block";
}

// æ¬¡ã®å•é¡Œã¸
document.getElementById("nextBtn").onclick = () => {
  current++;
  if (current < level.length) {
    makeQuestion();
  } else {
    // å…¨å•çµ‚äº†
    document.getElementById("question").textContent = "å…¨å•ã‚¯ãƒªã‚¢ï¼ğŸ‰";
    document.getElementById("options").innerHTML = "";
    const finalScore = Math.min(score, 100); // 100ç‚¹ã‚’è¶…ãˆãªã„ã‚ˆã†ã«èª¿æ•´
    document.getElementById("result").textContent = 
      `ã‚ãªãŸã®ç‚¹æ•°ã¯ ${finalScore} / 100 ç‚¹ ã§ã™ï¼\n` +
      getScoreText(finalScore);
    document.getElementById("nextBtn").style.display = "none";
  }
};

// åˆå›è¡¨ç¤º
makeQuestion();
</script>
</body>

</html>
