<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>JavaScript é›£èª­åŒ–ãƒ„ãƒ¼ãƒ«ï¼ˆæ–‡å­—åˆ—ã¯ãã®ã¾ã¾ï¼‰</title>
  <style>
    body { font-family: sans-serif; background: #1e1e1e; color: #eee; padding: 20px; }
    textarea { width: 100%; height: 200px; background: #2e2e2e; color: #00ff99; padding: 10px; font-family: monospace; }
    button { margin: 10px 5px; padding: 10px 20px; background: #00aaff; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: #0077cc; }
  </style>
</head>
<body>
  <h1>JavaScript é›£èª­åŒ–ãƒ„ãƒ¼ãƒ«ï¼ˆå›²ã¾ã‚ŒãŸæ–‡å­—åˆ—ã¯ä¿æŒï¼‰</h1>

  <p>ğŸ”¹ <strong>ã€Œ"set"ã€ã€Œ'get'ã€ã€Œ`Hello`ã€ãªã©å›²ã¾ã‚ŒãŸæ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã¯å¤‰ãˆã¾ã›ã‚“ã€‚</strong></p>

  <h3>JavaScriptã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›ï¼š</h3>
  <textarea id="inputCode">
// IMPORT_START
import { world } from '@minecraft/server';
// IMPORT_END

// MAIN_START
world.beforeEvents.playerJoin.subscribe(ev => {
  const action = "set";
  const label = 'get';
  ev.player.sendMessage("ã‚ˆã†ã“ãï¼");
});
// MAIN_END
</textarea>

  <div>
    <button onclick="obfuscateCode()">ğŸ” é›£èª­åŒ–</button>
  </div>

  <h3>å‡ºåŠ›ã‚³ãƒ¼ãƒ‰ï¼š</h3>
  <textarea id="outputCode" readonly></textarea>

  <script src="https://cdn.jsdelivr.net/npm/javascript-obfuscator/dist/index.browser.js"></script>
  <script>
    function obfuscateCode() {
      const input = document.getElementById('inputCode').value;

      const importPart = input.match(/\/\/ IMPORT_START([\s\S]*?)\/\/ IMPORT_END/);
      const mainPart = input.match(/\/\/ MAIN_START([\s\S]*?)\/\/ MAIN_END/);

      if (!mainPart) return alert("MAINéƒ¨åˆ†ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚");

      const obfuscated = JavaScriptObfuscator.obfuscate(mainPart[1], {
        compact: false,
        controlFlowFlattening: false,
        stringArray: false, // ğŸ”´â†ã“ã‚ŒãŒé‡è¦ï¼šæ–‡å­—åˆ—ã‚’ãã®ã¾ã¾æ®‹ã™
        renameGlobals: false,
        identifierNamesGenerator: 'mangled', // çŸ­ãã™ã‚‹ã ã‘
      }).getObfuscatedCode();

      const output =
        (importPart ? importPart[1] : '') +
        '\n\n// === é›£èª­åŒ–ã‚³ãƒ¼ãƒ‰ ===\n' +
        obfuscated;

      document.getElementById('outputCode').value = output;
    }
  </script>
</body>
</html>
